(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/main"],{"4cf7":function(t,e,n){"use strict";n.r(e);var o=n("60d8"),a=n("c9e4");for(var s in a)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);n("6031");var c=n("f0c5"),i=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);e["default"]=i.exports},6031:function(t,e,n){"use strict";var o=n("88b3"),a=n.n(o);a.a},"60d8":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return o}));var o={uvTabs:function(){return Promise.all([n.e("common/vendor"),n.e("uni_modules/uv-tabs/components/uv-tabs/uv-tabs")]).then(n.bind(null,"1860"))}},a=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.content=""})},s=[]},"88b3":function(t,e,n){},c9e4:function(t,e,n){"use strict";n.r(e);var o=n("dd41"),a=n.n(o);for(var s in o)["default"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(s);e["default"]=a.a},cca6:function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("9a14");o(n("66fd"));var a=o(n("4cf7"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(a.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},dd41:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{current:0,list:[{name:"淘淘",code:"tb",disabled:!1,icon:"/static/main/tb.png",placeholder:"请粘贴从淘宝App分享的链接/淘口令"},{name:"东东",code:"jd",disabled:!1,icon:"/static/main/jd.png",placeholder:"请粘贴从京东App分享的链接文案"},{name:"多多",code:"pdd",disabled:!1,icon:"/static/main/pdd.png",placeholder:"请粘贴从拼多多App分享的链接地址"},{name:"抖抖",code:"dy",disabled:!1,icon:"/static/main/dy.png",placeholder:"请粘贴从抖音App分享的链接文案"},{name:"团团",code:"mt",disabled:!0,icon:"/static/main/mt.png",placeholder:""},{name:"么么",code:"elm",disabled:!0,icon:"/static/main/elm.png",placeholder:""},{name:"唯唯",code:"wph",disabled:!0,icon:"/static/main/wph.png",placeholder:""}],content:"",isTurn:!1,turnBtnText:{index:0,list:["立即转链","正在转链"]},result:"",parseUrl:{tb:"",jd:"",pdd:"",dy:""},hasCoupon:{tb:-1,jd:-1},jumpData:{pdd:{appid:"",path:""}}}},watch:{current:function(){this.result=""}},onShow:function(){},methods:{change:function(t){this.current=t.index,console.log(t)},input:function(t){this.result=""},turn:function(){var e=this;if(this.content)switch(this.isTurn=!0,this.turnBtnText.index=1,this.list[this.current].code){case"tb":var n=new RegExp(/[\S\s]+\?tk=([\w]{11})[\S\s]+/g),o=n.exec(this.content);this.parseUrl.tb=o.length>1?o[1]:"",t.request({url:t.BASE_API+"/myq/doItemHighCommissionPromotionLinkByTpwd",method:"GET",data:{tpwdcode:this.parseUrl.tb},success:function(n){200==n.data.code?n.data.data.tpwd_str?e.result=n.data.data.tpwd_str:t.showModal({title:"提示",content:"抱歉，当前商品未加入转链",showCancel:!1,confirmText:"我知道了"}):t.showModal({title:"提示",content:n.data.msg,showCancel:!1,confirmText:"我知道了"}),console.log(n,"success")},fail:function(t){console.log(t,"error")},complete:function(t){console.log(t,"complete"),e.isTurn=!1,e.turnBtnText.index=0}});break;case"jd":var a=new RegExp(/https?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?/g),s=a.exec(this.content);this.parseUrl.jd=s.length>0?s[0]:"",t.request({url:t.BASE_API+"/dtk/getJdSinglePromotionUnionConvert",method:"GET",data:{unionId:"1000782038",materialId:this.parseUrl.jd,chainType:3},success:function(n){"成功"==n.data.msg?(e.result=n.data.data.shortUrl,e.checkJDHasCoupon()):t.showModal({title:"提示",content:n.data.msg,showCancel:!1,confirmText:"我知道了"}),console.log(n,"success")},fail:function(t){console.log(t,"error")},complete:function(t){console.log(t,"complete"),e.isTurn=!1,e.turnBtnText.index=0}});break;case"pdd":var c=new RegExp(/goods_id=([\d]+)&?/g),i=c.exec(this.content);this.parseUrl.pdd=i.length>0?i[0]:"",t.request({url:t.BASE_API+"/dtk/getPddGoodsSearch",method:"GET",data:{keyword:this.parseUrl.pdd},success:function(n){console.log(n),e.parseUrl.pdd=n.data.data.goodsList.length>0?n.data.data.goodsList[0].goodsSign:"",e.parseUrl.pdd?t.request({url:t.BASE_API+"/dtk/getPddGoodsPromGenerate",method:"GET",data:{pid:"8464534_211987743",goodsSign:e.parseUrl.pdd},success:function(t){console.log(t),e.result=t.data.data.weAppWebViewShortUrl,e.jumpData.pdd.appid=t.data.data.weAppInfo.appId,e.jumpData.pdd.path=t.data.data.weAppInfo.pagePath},fail:function(t){console.log(t,"error")},complete:function(t){console.log(t,"complete"),e.isTurn=!1,e.turnBtnText.index=0}}):t.showToast({icon:"none",title:"未解析出goodsSign"})},fail:function(t){console.log(t,"error")},complete:function(t){console.log(t,"complete")}});break;case"dy":t.request({url:t.BASE_API+"/dtk/getTiktokKolProductShare",method:"GET",data:{productUrl:this.content,externalInfo:0},success:function(t){console.log(t),e.result=t.data.data.dyPassword},fail:function(t){console.log(t,"error")},complete:function(t){console.log(t,"complete"),e.isTurn=!1,e.turnBtnText.index=0}});break;default:t.showToast({icon:"error",title:"暂未开启"}),this.current=0;break}else t.showToast({icon:"none",title:"不能为空"})},copy:function(){t.setClipboardData({data:this.result,success:function(e){t.showToast({title:"复制成功"})}})},checkJDHasCoupon:function(){var e=this;t.request({url:t.BASE_API+"/dtk/getJdParseUrl",method:"GET",data:{url:this.parseUrl.jd},success:function(t){console.log(t,"check"),e.hasCoupon.jd=t.data.data.hasCoupon}})},jumpToJDminiApp:function(){var e=("1"==this.hasCoupon.jd?"pages/proxy/union/union":"pages/union/proxy/proxy")+"?spreadUrl="+encodeURI(this.result);console.log(e,"path"),t.navigateToMiniProgram({appId:"wx91d27dbf599dff74",envVersion:"release",path:e,success:function(t){console.log(t,"res")},fail:function(t){console.log(t,"err")}})},jumpToPDDminiApp:function(){t.navigateToMiniProgram({appId:this.jumpData.pdd.appid,envVersion:"release",path:this.jumpData.pdd.path,success:function(t){console.log(t,"res")},fail:function(t){console.log(t,"err")}})}}};e.default=n}).call(this,n("543d")["default"])}},[["cca6","common/runtime","common/vendor"]]]);